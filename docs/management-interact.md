# 商家后台菜品&菜单管理交互
*本文档描述了商家后台菜品与菜单管理的交互流程：*
## 页面定义
1. 菜品管理页：
   - 仅仅包含菜品列表，对菜品本身进行操作的按钮
   - 列表显示：菜品名称，图片，**默认价格（为数据库添加该字段并更改相应sql）**，菜品描述，可选操作（包括编辑、删除两列）
   - 列表下方显示一个新建按钮
   - 列表按照创建时间排序
   - 点击编辑/新建，页面分为两栏，右侧多出“详细信息”一栏供用户输入：名称、图片、默认价格、描述。
     - 若是编辑：输入栏应当包含原来信息，下方按钮为“确认修改”和取消修改
     - 若是新建：输入栏为空，下方按钮为“确认保存”和“取消新建”
     - 图片暂时为一个文本输入框，待日后完善
   - 保存或者取消后，详细信息一栏将消失
2. 菜单管理页
   - 分上下两个区域，上方是菜单区，下方是只读的菜品列表
   - 菜单区默认状态是菜单列表：菜单名称、是否设置为套餐（若是，由一个"√"表示）、菜单描述、展开箭头、编辑按钮、删除按钮、拖动条
     - 每个菜单项可以展开为二级列表，点击展开箭头出现该菜单包含的所有菜品：菜品名，菜单内单价，菜单内数量。再次点击收起
   - 菜单列表项可以按住拖动条调整显示顺序，这个顺序也将是customer看到的顺序
   - 菜单列表的最底一行显示新建菜单按钮
   - 点击编辑/新建按钮，菜单区刷新为编辑菜单，上方显示一个菜单详情板块包含：该菜单名称（可修改的文本框）、描述（可修改的文本框）、设置为套餐（勾选框）、保存、取消按钮
     - 菜单详情下方显示另一个板块：本菜单的菜品列表：菜品名称，菜单内单价（可修改的数字框），菜单内数量（两侧有加减按钮的整数框）、拖动条
     - 本菜单的菜品列表项同样可以调整顺序，这个顺序也将是customer看到的顺序
     - 点击保存时，菜单内数量为0的菜品自动删除条目，但是不要在编辑时直接删除，而是将对应条目的颜色标红。始终在菜品列表下方显示"数量为0的菜品将自动删除"的小字
     - 保存/取消后。菜单区变回菜单列表
   - 页面下方区域的只读菜品列表
     - 在页面显示菜单列表时：菜品名称、默认价格、图片、描述
     - 在页面显示编辑菜单时：菜品名称、默认价格、图片、描述、添加到菜单按钮
     - 点击添加到菜单按钮，菜品将以默认价格和1数量追加到菜单区菜品本菜单的列表的末尾
---
为实现菜品和菜单排序功能，可以修改数据库menu和menu_item表，注意添加序号的约束