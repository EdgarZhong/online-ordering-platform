# 开发日志

## 2025-10-28 - by 钟丞

### 本次提交内容：

1.  **数据库架构升级 (V2)**: 
    *   根据“套餐”和“菜品单点”需求，将原有的“分类-菜品”一对多模型，重构为“菜单-菜品”多对多模型。
    *   核心改动：`categories` 表重命名为 `menus`；`dishes` 表移除价格；新增 `menu_items` 中间表，用于定义菜品在特定菜单中的价格。
    *   同步更新了 `schema.sql`, `initial-data.sql` 和 `development.md` 中的ER图。

2.  **后端实体类同步**:
    *   根据新的数据库 schema，创建和重构了 `Menu.java`, `Dish.java`, `MenuItem.java` 三个核心实体类。

3.  **数据库连接与DAO层验证**:
    *   因登录功能尚未开发，为验证数据链路，创建了临时测试页面 `test_db.jsp`。
    *   通过该页面成功验证了 `DBUtil` 的数据库连接功能，以及 `UserDAO` 能正确查询到 `initial-data.sql` 中插入的测试用户。
    *   根据约定，测试页面已保留并存放于 `webapp/test/` 目录下。

### 后续计划：
*   基于新的实体类，继续重构和实现DAO层（`MenuDAO`, `DishDAO`, `MenuItemDAO`）。
*   开发用户注册与登录功能的Servlet。

---

## 2025-10-27 - by 钟丞

### 本次提交内容：

完成了 **Sprint 1** 中由组长A负责的全部基础架构搭建工作，为项目建立了一个可运行的骨架。主要包括：

1.  **项目结构**: 创建了完整的 `backend`, `frontend`, `database`, `docs` 目录结构。
2.  **数据库**: 编写了 `database/schema.sql`，定义了项目所有数据表结构。
3.  **后端骨架**: 
    *   配置了 `pom.xml`，引入了所有必要的Java Web依赖。
    *   提供了 `DBUtil.java` 作为数据库连接的唯一入口。
    *   实现了 `CharacterEncodingFilter` 和 `AuthFilter` 两个核心过滤器。
    *   配置了 `web.xml` 部署描述符。
4.  **开发范例**: 
    *   提供了 `User.java` (实体), `UserDAO.java` (接口), `UserDAOImpl.java` (实现) 作为数据访问层的标准开发示例。
    *   提供了 `header.jsp`, `footer.jsp`, `dashboard.jsp` 作为后台页面UI的构建示例。

---

### **重要提醒：给所有团队成员**

**1. 代码仅作范例，尚未测试：**
   本次提交的代码是为了搭建项目结构和统一开发规范，**并未经过实际的功能测试**。数据库连接、DAO操作、过滤器逻辑等都需要在后续开发中进行联调和验证。

**2. 先阅读文档，再进行开发：**
   **请不要立即着手编写业务代码！** 请务必花时间仔细阅读 `docs` 目录下的所有文档，特别是：
   *   `README.md`: 了解项目总体技术选型。
   *   `development.md`: 了解我们的**迭代计划、任务分工和协作流程**。
   *   `product-backlog.md`: 了解我们要做哪些具体功能。

**3. 先交流，后编码：**
   在理解了文档之后，请找到 `development.md` 中分配给你的 **Sprint 1** 任务。如果你对任务有任何不清楚的地方，或者对我的范例代码有疑问，请**务必先在团队群里提出并交流**，达成共识后再开始编码。

我预计将在明天测试好项目基础，随后大家就可以尽情编码了
我们的目标是高效协作，避免返工。谢谢大家！